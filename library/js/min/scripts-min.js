function updateViewportDimensions(){var e=window,t=document,i=t.documentElement,n=t.getElementsByTagName("body")[0],r=e.innerWidth||i.clientWidth||n.clientWidth,a=e.innerHeight||i.clientHeight||n.clientHeight;return{width:r,height:a}}function loadGravatars(){viewport=updateViewportDimensions(),viewport.width>=768&&jQuery(".comment img[data-gravatar]").each(function(){jQuery(this).attr("src",jQuery(this).attr("data-gravatar"))})}var cssua=function(e,t,i){var n=/\s*([\-\w ]+)[\s\/\:]([\d_]+\b(?:[\-\._\/]\w+)*)/,r=/([\w\-\.]+[\s\/][v]?[\d_]+\b(?:[\-\._\/]\w+)*)/g,a=/\b(?:(blackberry\w*|bb10)|(rim tablet os))(?:\/(\d+\.\d+(?:\.\w+)*))?/,s=/\bsilk-accelerated=true\b/,o=/\bfluidapp\b/,c=/(\bwindows\b|\bmacintosh\b|\blinux\b|\bunix\b)/,u=/(\bandroid\b|\bipad\b|\bipod\b|\bwindows phone\b|\bwpdesktop\b|\bxblwp7\b|\bzunewp7\b|\bwindows ce\b|\bblackberry\w*|\bbb10\b|\brim tablet os\b|\bmeego|\bwebos\b|\bpalm|\bsymbian|\bj2me\b|\bdocomo\b|\bpda\b|\bchtml\b|\bmidp\b|\bcldc\b|\w*?mobile\w*?|\w*?phone\w*?)/,h=/(\bxbox\b|\bplaystation\b|\bnintendo\s+\w+)/,l={parse:function(e,t){var i={};if(t&&(i.standalone=t),e=(""+e).toLowerCase(),!e)return i;for(var l,d,f=e.split(/[()]/),p=0,m=f.length;m>p;p++)if(p%2){var v=f[p].split(";");for(l=0,d=v.length;d>l;l++)if(n.exec(v[l])){var g=RegExp.$1.split(" ").join("_"),b=RegExp.$2;(!i[g]||parseFloat(i[g])<parseFloat(b))&&(i[g]=b)}}else if(v=f[p].match(r))for(l=0,d=v.length;d>l;l++)g=v[l].split(/[\/\s]+/),g.length&&"mozilla"!==g[0]&&(i[g[0].split(" ").join("_")]=g.slice(1).join("-"));return u.exec(e)?(i.mobile=RegExp.$1,a.exec(e)&&(delete i[i.mobile],i.blackberry=i.version||RegExp.$3||RegExp.$2||RegExp.$1,RegExp.$1?i.mobile="blackberry":"0.0.1"===i.version&&(i.blackberry="7.1.0.0"))):c.exec(e)?i.desktop=RegExp.$1:h.exec(e)&&(i.game=RegExp.$1,l=i.game.split(" ").join("_"),i.version&&!i[l]&&(i[l]=i.version)),i.intel_mac_os_x?(i.mac_os_x=i.intel_mac_os_x.split("_").join("."),delete i.intel_mac_os_x):i.cpu_iphone_os?(i.ios=i.cpu_iphone_os.split("_").join("."),delete i.cpu_iphone_os):i.cpu_os?(i.ios=i.cpu_os.split("_").join("."),delete i.cpu_os):"iphone"!==i.mobile||i.ios||(i.ios="1"),i.opera&&i.version?(i.opera=i.version,delete i.blackberry):s.exec(e)?i.silk_accelerated=!0:o.exec(e)&&(i.fluidapp=i.version),i.applewebkit?(i.webkit=i.applewebkit,delete i.applewebkit,i.opr&&(i.opera=i.opr,delete i.opr,delete i.chrome),i.safari&&(i.chrome||i.crios||i.opera||i.silk||i.fluidapp||i.phantomjs||i.mobile&&!i.ios?delete i.safari:i.safari=i.version&&!i.rim_tablet_os?i.version:{419:"2.0.4",417:"2.0.3",416:"2.0.2",412:"2.0",312:"1.3",125:"1.2",85:"1.0"}[parseInt(i.safari,10)]||i.safari)):i.msie||i.trident?(i.opera||(i.ie=i.msie||i.rv),delete i.msie,i.windows_phone_os?(i.windows_phone=i.windows_phone_os,delete i.windows_phone_os):("wpdesktop"===i.mobile||"xblwp7"===i.mobile||"zunewp7"===i.mobile)&&(i.mobile="windows desktop",i.windows_phone=9>+i.ie?"7.0":10>+i.ie?"7.5":"8.0",delete i.windows_nt)):(i.gecko||i.firefox)&&(i.gecko=i.rv),i.rv&&delete i.rv,i.version&&delete i.version,i},format:function(e){var t="",i;for(i in e)if(i&&e.hasOwnProperty(i)){var n=i,r=e[i],n=n.split(".").join("-"),a=" ua-"+n;if("string"==typeof r){for(var r=r.split(" ").join("_").split(".").join("-"),s=r.indexOf("-");s>0;)a+=" ua-"+n+"-"+r.substring(0,s),s=r.indexOf("-",s+1);a+=" ua-"+n+"-"+r}t+=a}return t},encode:function(e){var t="",i;for(i in e)i&&e.hasOwnProperty(i)&&(t&&(t+="&"),t+=encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return t}};return l.userAgent=l.ua=l.parse(t,i),t=l.format(l.ua)+" js",e.className=e.className?e.className.replace(/\bno-js\b/g,"")+t:t.substr(1),l}(document.documentElement,navigator.userAgent,navigator.standalone),viewport=updateViewportDimensions(),waitForFinalEvent=function(){var e={};return function(t,i,n){n||(n="Don't call this twice without a uniqueId"),e[n]&&clearTimeout(e[n]),e[n]=setTimeout(t,i)}}(),timeToWaitForLast=100;jQuery(document).ready(function($){loadGravatars(),$(".user-menu-item").mouseenter(function(){$(".user-meta").show()}),$(".user-menu-item").mouseleave(function(){$(".user-meta").delay(1e3).hide()}),$("#logo > a > img").on({mouseover:function(){this.src="https://s3.amazonaws.com/vizual/images/vizual_promo_logo_sf_hover@2x.png"},mouseout:function(){this.src="https://s3.amazonaws.com/vizual/images/vizual_promo_logo_sf@2x.png"}})}),function(){function e(){}function t(e){return a.retinaImageSuffix+e}function i(e,i){if(this.path=e||"","undefined"!=typeof i&&null!==i)this.at_2x_path=i,this.perform_check=!1;else{if(void 0!==document.createElement){var n=document.createElement("a");n.href=this.path,n.pathname=n.pathname.replace(s,t),this.at_2x_path=n.href}else{var r=this.path.split("?");r[0]=r[0].replace(s,t),this.at_2x_path=r.join("?")}this.perform_check=!0}}function n(e){this.el=e,this.path=new i(this.el.getAttribute("src"),this.el.getAttribute("data-at2x"));var t=this;this.path.check_2x_variant(function(e){e&&t.swap()})}var r="undefined"==typeof exports?window:exports,a={retinaImageSuffix:"@2x",check_mime_type:!0,force_original_dimensions:!0};r.Retina=e,e.configure=function(e){null===e&&(e={});for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])},e.init=function(e){null===e&&(e=r);var t=e.onload||function(){};e.onload=function(){var e=document.getElementsByTagName("img"),i=[],r,a;for(r=0;r<e.length;r+=1)a=e[r],a.getAttributeNode("data-no-retina")||i.push(new n(a));t()}},e.isRetina=function(){var e="(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)";return r.devicePixelRatio>1?!0:r.matchMedia&&r.matchMedia(e).matches?!0:!1};var s=/\.\w+$/;r.RetinaImagePath=i,i.confirmed_paths=[],i.prototype.is_external=function(){return!(!this.path.match(/^https?\:/i)||this.path.match("//"+document.domain))},i.prototype.check_2x_variant=function(e){var t,n=this;return this.is_external()&&!this.path.match(/s3.amazonaws.com/i)?e(!1):this.perform_check||"undefined"==typeof this.at_2x_path||null===this.at_2x_path?this.at_2x_path in i.confirmed_paths?e(!0):(t=new XMLHttpRequest,t.open("HEAD",this.at_2x_path),t.onreadystatechange=function(){if(4!==t.readyState)return e(!1);if(t.status>=200&&t.status<=399){if(a.check_mime_type){var r=t.getResponseHeader("Content-Type");if(null===r||!r.match(/^image/i))return e(!1)}return i.confirmed_paths.push(n.at_2x_path),e(!0)}return e(!1)},t.send(),void 0):e(!0)},r.RetinaImage=n,n.prototype.swap=function(e){function t(){i.el.complete?(a.force_original_dimensions&&(i.el.setAttribute("width",i.el.offsetWidth),i.el.setAttribute("height",i.el.offsetHeight)),i.el.setAttribute("src",e)):setTimeout(t,5)}"undefined"==typeof e&&(e=this.path.at_2x_path);var i=this;t()},e.isRetina()&&e.init(r)}();var WaveSurfer={defaultParams:{height:128,waveColor:"#999",progressColor:"#555",cursorColor:"#333",cursorWidth:1,skipLength:2,minPxPerSec:20,pixelRatio:window.devicePixelRatio,fillParent:!0,scrollParent:!1,hideScrollbar:!1,normalize:!1,audioContext:null,container:null,dragSelection:!0,loopSelection:!0,audioRate:1,interact:!0,splitChannels:!1,renderer:"Canvas",backend:"WebAudio",mediaType:"audio"},init:function(e){if(this.params=WaveSurfer.util.extend({},this.defaultParams,e),this.container="string"==typeof e.container?document.querySelector(this.params.container):this.params.container,!this.container)throw new Error("Container element not found");if("undefined"==typeof this.params.mediaContainer?this.mediaContainer=this.container:"string"==typeof this.params.mediaContainer?this.mediaContainer=document.querySelector(this.params.mediaContainer):this.mediaContainer=this.params.mediaContainer,!this.mediaContainer)throw new Error("Media Container element not found");this.savedVolume=0,this.isMuted=!1,this.tmpEvents=[],this.createDrawer(),this.createBackend()},createDrawer:function(){var e=this;this.drawer=Object.create(WaveSurfer.Drawer[this.params.renderer]),this.drawer.init(this.container,this.params),this.drawer.on("redraw",function(){e.drawBuffer(),e.drawer.progress(e.backend.getPlayedPercents())}),this.drawer.on("click",function(t,i){setTimeout(function(){e.seekTo(i)},0)}),this.drawer.on("scroll",function(t){e.fireEvent("scroll",t)})},createBackend:function(){var e=this;this.backend&&this.backend.destroy(),"AudioElement"==this.params.backend&&(this.params.backend="MediaElement"),"WebAudio"!=this.params.backend||WaveSurfer.WebAudio.supportsWebAudio()||(this.params.backend="MediaElement"),this.backend=Object.create(WaveSurfer[this.params.backend]),this.backend.init(this.params),this.backend.on("finish",function(){e.fireEvent("finish")}),this.backend.on("play",function(){e.fireEvent("play")}),this.backend.on("pause",function(){e.fireEvent("pause")}),this.backend.on("audioprocess",function(t){e.drawer.progress(e.backend.getPlayedPercents()),e.fireEvent("audioprocess",t)})},getDuration:function(){return this.backend.getDuration()},getCurrentTime:function(){return this.backend.getCurrentTime()},play:function(e,t){this.backend.play(e,t)},pause:function(){this.backend.pause()},playPause:function(){this.backend.isPaused()?this.play():this.pause()},isPlaying:function(){return!this.backend.isPaused()},skipBackward:function(e){this.skip(-e||-this.params.skipLength)},skipForward:function(e){this.skip(e||this.params.skipLength)},skip:function(e){var t=this.getCurrentTime()||0,i=this.getDuration()||1;t=Math.max(0,Math.min(i,t+(e||0))),this.seekAndCenter(t/i)},seekAndCenter:function(e){this.seekTo(e),this.drawer.recenter(e)},seekTo:function(e){var t=this.backend.isPaused(),i=this.params.scrollParent;t&&(this.params.scrollParent=!1),this.backend.seekTo(e*this.getDuration()),this.drawer.progress(this.backend.getPlayedPercents()),t||(this.backend.pause(),this.backend.play()),this.params.scrollParent=i,this.fireEvent("seek",e)},stop:function(){this.pause(),this.seekTo(0),this.drawer.progress(0)},setVolume:function(e){this.backend.setVolume(e)},setPlaybackRate:function(e){this.backend.setPlaybackRate(e)},toggleMute:function(){this.isMuted?(this.backend.setVolume(this.savedVolume),this.isMuted=!1):(this.savedVolume=this.backend.getVolume(),this.backend.setVolume(0),this.isMuted=!0)},toggleScroll:function(){this.params.scrollParent=!this.params.scrollParent,this.drawBuffer()},toggleInteraction:function(){this.params.interact=!this.params.interact},drawBuffer:function(){var e=Math.round(this.getDuration()*this.params.minPxPerSec*this.params.pixelRatio),t=this.drawer.getWidth(),i=e;this.params.fillParent&&(!this.params.scrollParent||t>e)&&(i=t);var n=this.backend.getPeaks(i);this.drawer.drawPeaks(n,i),this.fireEvent("redraw",n,i)},zoom:function(e){this.params.minPxPerSec=e,this.params.scrollParent=!0,this.drawBuffer(),this.seekAndCenter(this.getCurrentTime()/this.getDuration())},loadArrayBuffer:function(e){this.decodeArrayBuffer(e,function(e){this.loadDecodedBuffer(e)}.bind(this))},loadDecodedBuffer:function(e){this.backend.load(e),this.drawBuffer(),this.fireEvent("ready")},loadBlob:function(e){var t=this,i=new FileReader;i.addEventListener("progress",function(e){t.onProgress(e)}),i.addEventListener("load",function(e){t.loadArrayBuffer(e.target.result)}),i.addEventListener("error",function(){t.fireEvent("error","Error reading file")}),i.readAsArrayBuffer(e),this.empty()},load:function(e,t){switch(this.params.backend){case"WebAudio":return this.loadBuffer(e);case"MediaElement":return this.loadMediaElement(e,t)}},loadBuffer:function(e){return this.empty(),this.getArrayBuffer(e,this.loadArrayBuffer.bind(this))},loadMediaElement:function(e,t){this.empty(),this.backend.load(e,this.mediaContainer,t),this.tmpEvents.push(this.backend.once("canplay",function(){this.drawBuffer(),this.fireEvent("ready")}.bind(this)),this.backend.once("error",function(e){this.fireEvent("error",e)}.bind(this))),!t&&this.backend.supportsWebAudio()&&this.getArrayBuffer(e,function(e){this.decodeArrayBuffer(e,function(e){this.backend.buffer=e,this.drawBuffer()}.bind(this))}.bind(this))},decodeArrayBuffer:function(e,t){this.backend.decodeArrayBuffer(e,this.fireEvent.bind(this,"decoded"),this.fireEvent.bind(this,"error","Error decoding audiobuffer")),this.tmpEvents.push(this.once("decoded",t))},getArrayBuffer:function(e,t){var i=this,n=WaveSurfer.util.ajax({url:e,responseType:"arraybuffer"});return this.tmpEvents.push(n.on("progress",function(e){i.onProgress(e)}),n.on("success",t),n.on("error",function(e){i.fireEvent("error","XHR error: "+e.target.statusText)})),n},onProgress:function(e){if(e.lengthComputable)var t=e.loaded/e.total;else t=e.loaded/(e.loaded+1e6);this.fireEvent("loading",Math.round(100*t),e.target)},exportPCM:function(e,t,i){e=e||1024,t=t||1e4,i=i||!1;var n=this.backend.getPeaks(e,t),r=[].map.call(n,function(e){return Math.round(e*t)/t}),a=JSON.stringify(r);return i||window.open("data:application/json;charset=utf-8,"+encodeURIComponent(a)),a},clearTmpEvents:function(){this.tmpEvents.forEach(function(e){e.un()})},empty:function(){this.backend.isPaused()||(this.stop(),this.backend.disconnectSource()),this.clearTmpEvents(),this.drawer.progress(0),this.drawer.setWidth(0),this.drawer.drawPeaks({length:this.drawer.getWidth()},0)},destroy:function(){this.fireEvent("destroy"),this.clearTmpEvents(),this.unAll(),this.backend.destroy(),this.drawer.destroy()}};WaveSurfer.create=function(e){var t=Object.create(WaveSurfer);return t.init(e),t},WaveSurfer.util={extend:function(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(t){Object.keys(t).forEach(function(i){e[i]=t[i]})}),e},getId:function(){return"wavesurfer_"+Math.random().toString(32).substring(2)},ajax:function(e){var t=Object.create(WaveSurfer.Observer),i=new XMLHttpRequest,n=!1;return i.open(e.method||"GET",e.url,!0),i.responseType=e.responseType||"json",i.addEventListener("progress",function(e){t.fireEvent("progress",e),e.lengthComputable&&e.loaded==e.total&&(n=!0)}),i.addEventListener("load",function(e){n||t.fireEvent("progress",e),t.fireEvent("load",e),200==i.status||206==i.status?t.fireEvent("success",i.response,e):t.fireEvent("error",e)}),i.addEventListener("error",function(e){t.fireEvent("error",e)}),i.send(),t.xhr=i,t}},WaveSurfer.Observer={on:function(e,t){this.handlers||(this.handlers={});var i=this.handlers[e];return i||(i=this.handlers[e]=[]),i.push(t),{name:e,callback:t,un:this.un.bind(this,e,t)}},un:function(e,t){if(this.handlers){var i=this.handlers[e];if(i)if(t)for(var n=i.length-1;n>=0;n--)i[n]==t&&i.splice(n,1);else i.length=0}},unAll:function(){this.handlers=null},once:function(e,t){var i=this,n=function(){t.apply(this,arguments),setTimeout(function(){i.un(e,n)},0)};return this.on(e,n)},fireEvent:function(e){if(this.handlers){var t=this.handlers[e],i=Array.prototype.slice.call(arguments,1);t&&t.forEach(function(e){e.apply(null,i)})}}},WaveSurfer.util.extend(WaveSurfer,WaveSurfer.Observer),WaveSurfer.WebAudio={scriptBufferSize:256,PLAYING_STATE:0,PAUSED_STATE:1,FINISHED_STATE:2,supportsWebAudio:function(){return!(!window.AudioContext&&!window.webkitAudioContext)},getAudioContext:function(){return WaveSurfer.WebAudio.audioContext||(WaveSurfer.WebAudio.audioContext=new(window.AudioContext||window.webkitAudioContext)),WaveSurfer.WebAudio.audioContext},getOfflineAudioContext:function(e){return WaveSurfer.WebAudio.offlineAudioContext||(WaveSurfer.WebAudio.offlineAudioContext=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,2,e)),WaveSurfer.WebAudio.offlineAudioContext},init:function(e){this.params=e,this.ac=e.audioContext||this.getAudioContext(),this.lastPlay=this.ac.currentTime,this.startPosition=0,this.scheduledPause=null,this.states=[Object.create(WaveSurfer.WebAudio.state.playing),Object.create(WaveSurfer.WebAudio.state.paused),Object.create(WaveSurfer.WebAudio.state.finished)],this.createVolumeNode(),this.createScriptNode(),this.createAnalyserNode(),this.setState(this.PAUSED_STATE),this.setPlaybackRate(this.params.audioRate)},disconnectFilters:function(){this.filters&&(this.filters.forEach(function(e){e&&e.disconnect()}),this.filters=null,this.analyser.connect(this.gainNode))},setState:function(e){this.state!==this.states[e]&&(this.state=this.states[e],this.state.init.call(this))},setFilter:function(){this.setFilters([].slice.call(arguments))},setFilters:function(e){this.disconnectFilters(),e&&e.length&&(this.filters=e,this.analyser.disconnect(),e.reduce(function(e,t){return e.connect(t),t},this.analyser).connect(this.gainNode))},createScriptNode:function(){this.ac.createScriptProcessor?this.scriptNode=this.ac.createScriptProcessor(this.scriptBufferSize):this.scriptNode=this.ac.createJavaScriptNode(this.scriptBufferSize),this.scriptNode.connect(this.ac.destination)},addOnAudioProcess:function(){var e=this;this.scriptNode.onaudioprocess=function(){var t=e.getCurrentTime();t>=e.getDuration()?(e.setState(e.FINISHED_STATE),e.fireEvent("pause")):t>=e.scheduledPause?(e.setState(e.PAUSED_STATE),e.fireEvent("pause")):e.state===e.states[e.PLAYING_STATE]&&e.fireEvent("audioprocess",t)}},removeOnAudioProcess:function(){this.scriptNode.onaudioprocess=null},createAnalyserNode:function(){this.analyser=this.ac.createAnalyser(),this.analyser.connect(this.gainNode)},createVolumeNode:function(){this.ac.createGain?this.gainNode=this.ac.createGain():this.gainNode=this.ac.createGainNode(),this.gainNode.connect(this.ac.destination)},setVolume:function(e){this.gainNode.gain.value=e},getVolume:function(){return this.gainNode.gain.value},decodeArrayBuffer:function(e,t,i){this.offlineAc||(this.offlineAc=this.getOfflineAudioContext(this.ac?this.ac.sampleRate:44100)),this.offlineAc.decodeAudioData(e,function(e){t(e)}.bind(this),i)},getPeaks:function(e){for(var t=this.buffer.length/e,i=~~(t/10)||1,n=this.buffer.numberOfChannels,r=[],a=[],s=0;n>s;s++)for(var o=r[s]=[],c=this.buffer.getChannelData(s),u=0;e>u;u++){for(var h=~~(u*t),l=~~(h+t),d=c[0],f=c[0],p=h;l>p;p+=i){var m=c[p];m>f&&(f=m),d>m&&(d=m)}o[2*u]=f,o[2*u+1]=d,(0==s||f>a[2*u])&&(a[2*u]=f),(0==s||d<a[2*u+1])&&(a[2*u+1]=d)}return this.params.splitChannels?r:a},getPlayedPercents:function(){return this.state.getPlayedPercents.call(this)},disconnectSource:function(){this.source&&this.source.disconnect()},destroy:function(){this.isPaused()||this.pause(),this.unAll(),this.buffer=null,this.disconnectFilters(),this.disconnectSource(),this.gainNode.disconnect(),this.scriptNode.disconnect(),this.analyser.disconnect()},load:function(e){this.startPosition=0,this.lastPlay=this.ac.currentTime,this.buffer=e,this.createSource()},createSource:function(){this.disconnectSource(),this.source=this.ac.createBufferSource(),this.source.start=this.source.start||this.source.noteGrainOn,this.source.stop=this.source.stop||this.source.noteOff,this.source.playbackRate.value=this.playbackRate,this.source.buffer=this.buffer,this.source.connect(this.analyser)},isPaused:function(){return this.state!==this.states[this.PLAYING_STATE]},getDuration:function(){return this.buffer?this.buffer.duration:0},seekTo:function(e,t){return this.scheduledPause=null,null==e&&(e=this.getCurrentTime(),e>=this.getDuration()&&(e=0)),null==t&&(t=this.getDuration()),this.startPosition=e,this.lastPlay=this.ac.currentTime,this.state===this.states[this.FINISHED_STATE]&&this.setState(this.PAUSED_STATE),{start:e,end:t}},getPlayedTime:function(){return(this.ac.currentTime-this.lastPlay)*this.playbackRate},play:function(e,t){this.createSource();var i=this.seekTo(e,t);e=i.start,t=i.end,this.scheduledPause=t,this.source.start(0,e,t-e),this.setState(this.PLAYING_STATE),this.fireEvent("play")},pause:function(){this.scheduledPause=null,this.startPosition+=this.getPlayedTime(),this.source&&this.source.stop(0),this.setState(this.PAUSED_STATE),this.fireEvent("pause")},getCurrentTime:function(){return this.state.getCurrentTime.call(this)},setPlaybackRate:function(e){e=e||1,this.isPaused()?this.playbackRate=e:(this.pause(),this.playbackRate=e,this.play())}},WaveSurfer.WebAudio.state={},WaveSurfer.WebAudio.state.playing={init:function(){this.addOnAudioProcess()},getPlayedPercents:function(){var e=this.getDuration();return this.getCurrentTime()/e||0},getCurrentTime:function(){return this.startPosition+this.getPlayedTime()}},WaveSurfer.WebAudio.state.paused={init:function(){this.removeOnAudioProcess()},getPlayedPercents:function(){var e=this.getDuration();return this.getCurrentTime()/e||0},getCurrentTime:function(){return this.startPosition}},WaveSurfer.WebAudio.state.finished={init:function(){this.removeOnAudioProcess(),this.fireEvent("finish")},getPlayedPercents:function(){return 1},getCurrentTime:function(){return this.getDuration()}},WaveSurfer.util.extend(WaveSurfer.WebAudio,WaveSurfer.Observer),WaveSurfer.MediaElement=Object.create(WaveSurfer.WebAudio),WaveSurfer.util.extend(WaveSurfer.MediaElement,{init:function(e){this.params=e,this.media={currentTime:0,duration:0,paused:!0,playbackRate:1,play:function(){},pause:function(){}},this.mediaType=e.mediaType.toLowerCase(),this.elementPosition=e.elementPosition},load:function(e,t,i){var n=this,r=document.createElement(this.mediaType);r.controls=!1,r.autoplay=!1,r.preload="auto",r.src=e,r.addEventListener("error",function(){n.fireEvent("error","Error loading media element")}),r.addEventListener("canplay",function(){n.fireEvent("canplay")}),r.addEventListener("ended",function(){n.fireEvent("finish")}),r.addEventListener("timeupdate",function(){n.fireEvent("audioprocess",n.getCurrentTime())});var a=t.querySelector(this.mediaType);a&&t.removeChild(a),t.appendChild(r),this.media=r,this.peaks=i,this.onPlayEnd=null,this.buffer=null,this.setPlaybackRate(this.playbackRate)},isPaused:function(){return!this.media||this.media.paused},getDuration:function(){var e=this.media.duration;return e>=1/0&&(e=this.media.seekable.end()),e},getCurrentTime:function(){return this.media&&this.media.currentTime},getPlayedPercents:function(){return this.getCurrentTime()/this.getDuration()||0},setPlaybackRate:function(e){this.playbackRate=e||1,this.media.playbackRate=this.playbackRate},seekTo:function(e){null!=e&&(this.media.currentTime=e),this.clearPlayEnd()},play:function(e,t){this.seekTo(e),this.media.play(),t&&this.setPlayEnd(t),this.fireEvent("play")},pause:function(){this.media&&this.media.pause(),this.clearPlayEnd(),this.fireEvent("pause")},setPlayEnd:function(e){var t=this;this.onPlayEnd=function(i){i>=e&&(t.pause(),t.seekTo(e))},this.on("audioprocess",this.onPlayEnd)},clearPlayEnd:function(){this.onPlayEnd&&(this.un("audioprocess",this.onPlayEnd),this.onPlayEnd=null)},getPeaks:function(e){return this.buffer?WaveSurfer.WebAudio.getPeaks.call(this,e):this.peaks||[]},getVolume:function(){return this.media.volume},setVolume:function(e){this.media.volume=e},destroy:function(){this.pause(),this.unAll(),this.media&&this.media.parentNode&&this.media.parentNode.removeChild(this.media),this.media=null}}),WaveSurfer.AudioElement=WaveSurfer.MediaElement,WaveSurfer.Drawer={init:function(e,t){this.container=e,this.params=t,this.width=0,this.height=t.height*this.params.pixelRatio,this.lastPos=0,this.createWrapper(),this.createElements()},createWrapper:function(){this.wrapper=this.container.appendChild(document.createElement("wave")),this.style(this.wrapper,{display:"block",position:"relative",userSelect:"none",webkitUserSelect:"none",height:this.params.height+"px"}),(this.params.fillParent||this.params.scrollParent)&&this.style(this.wrapper,{width:"100%",overflowX:this.params.hideScrollbar?"hidden":"auto",overflowY:"hidden"}),this.setupWrapperEvents()},handleEvent:function(e){e.preventDefault();var t=this.wrapper.getBoundingClientRect();return(e.clientX-t.left+this.wrapper.scrollLeft)/this.wrapper.scrollWidth||0},setupWrapperEvents:function(){var e=this;this.wrapper.addEventListener("click",function(t){var i=e.wrapper.offsetHeight-e.wrapper.clientHeight;if(0!=i){var n=e.wrapper.getBoundingClientRect();if(t.clientY>=n.bottom-i)return}e.params.interact&&e.fireEvent("click",t,e.handleEvent(t))}),this.wrapper.addEventListener("scroll",function(t){e.fireEvent("scroll",t)})},drawPeaks:function(e,t){this.resetScroll(),this.setWidth(t),this.params.barWidth?this.drawBars(e):this.drawWave(e)},style:function(e,t){return Object.keys(t).forEach(function(i){e.style[i]!==t[i]&&(e.style[i]=t[i])}),e},resetScroll:function(){null!==this.wrapper&&(this.wrapper.scrollLeft=0)},recenter:function(e){var t=this.wrapper.scrollWidth*e;this.recenterOnPosition(t,!0)},recenterOnPosition:function(e,t){var i=this.wrapper.scrollLeft,n=~~(this.wrapper.clientWidth/2),r=e-n,a=r-i,s=this.wrapper.scrollWidth-this.wrapper.clientWidth;if(0!=s){if(!t&&a>=-n&&n>a){var o=5;a=Math.max(-o,Math.min(o,a)),r=i+a}r=Math.max(0,Math.min(s,r)),r!=i&&(this.wrapper.scrollLeft=r)}},getWidth:function(){return Math.round(this.container.clientWidth*this.params.pixelRatio)},setWidth:function(e){e!=this.width&&(this.width=e,this.params.fillParent||this.params.scrollParent?this.style(this.wrapper,{width:""}):this.style(this.wrapper,{width:~~(this.width/this.params.pixelRatio)+"px"}),this.updateSize())},setHeight:function(e){e!=this.height&&(this.height=e,this.style(this.wrapper,{height:~~(this.height/this.params.pixelRatio)+"px"}),this.updateSize())},progress:function(e){var t=1/this.params.pixelRatio,i=Math.round(e*this.width)*t;if(i<this.lastPos||i-this.lastPos>=t){if(this.lastPos=i,this.params.scrollParent){var n=~~(this.wrapper.scrollWidth*e);this.recenterOnPosition(n)}this.updateProgress(e)}},destroy:function(){this.unAll(),this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=null)},createElements:function(){},updateSize:function(){},drawWave:function(e,t){},clearWave:function(){},updateProgress:function(e){}},WaveSurfer.util.extend(WaveSurfer.Drawer,WaveSurfer.Observer),WaveSurfer.Drawer.Canvas=Object.create(WaveSurfer.Drawer),WaveSurfer.util.extend(WaveSurfer.Drawer.Canvas,{createElements:function(){var e=this.wrapper.appendChild(this.style(document.createElement("canvas"),{position:"absolute",zIndex:1,left:0,top:0,bottom:0}));if(this.waveCc=e.getContext("2d"),this.progressWave=this.wrapper.appendChild(this.style(document.createElement("wave"),{position:"absolute",zIndex:2,left:0,top:0,bottom:0,overflow:"hidden",width:"0",display:"none",boxSizing:"border-box",borderRightStyle:"solid",borderRightWidth:this.params.cursorWidth+"px",borderRightColor:this.params.cursorColor})),this.params.waveColor!=this.params.progressColor){var t=this.progressWave.appendChild(document.createElement("canvas"));this.progressCc=t.getContext("2d")}},updateSize:function(){var e=Math.round(this.width/this.params.pixelRatio);this.waveCc.canvas.width=this.width,this.waveCc.canvas.height=this.height,this.style(this.waveCc.canvas,{width:e+"px"}),this.style(this.progressWave,{display:"block"}),this.progressCc&&(this.progressCc.canvas.width=this.width,this.progressCc.canvas.height=this.height,this.style(this.progressCc.canvas,{width:e+"px"})),this.clearWave()},clearWave:function(){this.waveCc.clearRect(0,0,this.width,this.height),this.progressCc&&this.progressCc.clearRect(0,0,this.width,this.height)},drawBars:function(e,t){if(e[0]instanceof Array){var i=e;if(this.params.splitChannels)return this.setHeight(i.length*this.params.height*this.params.pixelRatio),void i.forEach(this.drawBars,this);e=i[0]}var n=.5/this.params.pixelRatio,r=this.width,a=this.params.height*this.params.pixelRatio,s=a*t||0,o=a/2,c=~~(e.length/2),u=this.params.barWidth*this.params.pixelRatio,h=Math.max(this.params.pixelRatio,~~(u/2)),l=u+h,d=1;if(this.params.normalize){var f,p;p=Math.max.apply(Math,e),f=Math.min.apply(Math,e),d=p,-f>d&&(d=-f)}var m=c/r;this.waveCc.fillStyle=this.params.waveColor,this.progressCc&&(this.progressCc.fillStyle=this.params.progressColor),[this.waveCc,this.progressCc].forEach(function(t){if(t)if(this.params.reflection)for(var i=0;r>i;i+=l){var a=Math.round(e[2*i*m]/d*o);t.fillRect(i+n,o-a+s,u+n,2*a)}else{for(var i=0;r>i;i+=l){var a=Math.round(e[2*i*m]/d*o);t.fillRect(i+n,o-a+s,u+n,a)}for(var i=0;r>i;i+=l){var a=Math.round(e[2*i*m+1]/d*o);t.fillRect(i+n,o-a+s,u+n,a)}}},this)},drawWave:function(e,t){if(e[0]instanceof Array){var i=e;if(this.params.splitChannels)return this.setHeight(i.length*this.params.height*this.params.pixelRatio),void i.forEach(this.drawWave,this);e=i[0]}var n=.5/this.params.pixelRatio,r=this.params.height*this.params.pixelRatio,a=r*t||0,s=r/2,o=~~(e.length/2),c=1;this.params.fillParent&&this.width!=o&&(c=this.width/o);var u=1;if(this.params.normalize){var h,l;l=Math.max.apply(Math,e),h=Math.min.apply(Math,e),u=l,-h>u&&(u=-h)}this.waveCc.fillStyle=this.params.waveColor,this.progressCc&&(this.progressCc.fillStyle=this.params.progressColor),[this.waveCc,this.progressCc].forEach(function(t){if(t){t.beginPath(),t.moveTo(n,s+a);for(var i=0;o>i;i++){var r=Math.round(e[2*i]/u*s);t.lineTo(i*c+n,s-r+a)}for(var i=o-1;i>=0;i--){var r=Math.round(e[2*i+1]/u*s);t.lineTo(i*c+n,s-r+a)}t.closePath(),t.fill(),t.fillRect(0,s+a-n,this.width,n)}},this)},updateProgress:function(e){var t=Math.round(this.width*e)/this.params.pixelRatio;this.style(this.progressWave,{width:t+"px"})}}),window.Modernizr=function(e,t,i){function n(e){g.cssText=e}function r(e,t){return n(E.join(e+";")+(t||""))}function a(e,t){return typeof e===t}function s(e,t){return!!~(""+e).indexOf(t)}function o(e,t){for(var n in e){var r=e[n];if(!s(r,"-")&&g[r]!==i)return"pfx"==t?r:!0}return!1}function c(e,t,n){for(var r in e){var s=t[e[r]];if(s!==i)return n===!1?e[r]:a(s,"function")?s.bind(n||t):s}return!1}function u(e,t,i){var n=e.charAt(0).toUpperCase()+e.slice(1),r=(e+" "+k.join(n+" ")+n).split(" ");return a(t,"string")||a(t,"undefined")?o(r,t):(r=(e+" "+S.join(n+" ")+n).split(" "),c(r,t,i))}function h(){d.input=function(i){for(var n=0,r=i.length;r>n;n++)T[i[n]]=i[n]in b;return T.list&&(T.list=!!t.createElement("datalist")&&!!e.HTMLDataListElement),T}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),d.inputtypes=function(e){for(var n=0,r,a,s,o=e.length;o>n;n++)b.setAttribute("type",a=e[n]),r="text"!==b.type,r&&(b.value=y,b.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(a)&&b.style.WebkitAppearance!==i?(p.appendChild(b),s=t.defaultView,r=s.getComputedStyle&&"textfield"!==s.getComputedStyle(b,null).WebkitAppearance&&0!==b.offsetHeight,p.removeChild(b)):/^(search|tel)$/.test(a)||(r=/^(url|email)$/.test(a)?b.checkValidity&&b.checkValidity()===!1:b.value!=y)),A[e[n]]=!!r;return A}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var l="2.6.2",d={},f=!0,p=t.documentElement,m="modernizr",v=t.createElement(m),g=v.style,b=t.createElement("input"),y=":)",w={}.toString,E=" -webkit- -moz- -o- -ms- ".split(" "),x="Webkit Moz O ms",k=x.split(" "),S=x.toLowerCase().split(" "),P={svg:"http://www.w3.org/2000/svg"},C={},A={},T={},W=[],_=W.slice,R,M=function(e,i,n,r){var a,s,o,c,u=t.createElement("div"),h=t.body,l=h||t.createElement("body");if(parseInt(n,10))for(;n--;)o=t.createElement("div"),o.id=r?r[n]:m+(n+1),u.appendChild(o);return a=["&#173;",'<style id="s',m,'">',e,"</style>"].join(""),u.id=m,(h?u:l).innerHTML+=a,l.appendChild(u),h||(l.style.background="",l.style.overflow="hidden",c=p.style.overflow,p.style.overflow="hidden",p.appendChild(l)),s=i(u,e),h?u.parentNode.removeChild(u):(l.parentNode.removeChild(l),p.style.overflow=c),!!s},j=function(t){var i=e.matchMedia||e.msMatchMedia;if(i)return i(t).matches;var n;return M("@media "+t+" { #"+m+" { position: absolute; } }",function(t){n="absolute"==(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position}),n},N=function(){function e(e,r){r=r||t.createElement(n[e]||"div"),e="on"+e;var s=e in r;return s||(r.setAttribute||(r=t.createElement("div")),r.setAttribute&&r.removeAttribute&&(r.setAttribute(e,""),s=a(r[e],"function"),a(r[e],"undefined")||(r[e]=i),r.removeAttribute(e))),r=null,s}var n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return e}(),D={}.hasOwnProperty,O;O=a(D,"undefined")||a(D.call,"undefined")?function(e,t){return t in e&&a(e.constructor.prototype[t],"undefined");
}:function(e,t){return D.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var i=_.call(arguments,1),n=function(){if(this instanceof n){var r=function(){};r.prototype=t.prototype;var a=new r,s=t.apply(a,i.concat(_.call(arguments)));return Object(s)===s?s:a}return t.apply(e,i.concat(_.call(arguments)))};return n}),C.flexbox=function(){return u("flexWrap")},C.webgl=function(){return!!e.WebGLRenderingContext},C.touch=function(){var i;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?i=!0:M(["@media (",E.join("touch-enabled),("),m,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){i=9===e.offsetTop}),i},C.geolocation=function(){return"geolocation"in navigator},C.hashchange=function(){return N("hashchange",e)&&(t.documentMode===i||t.documentMode>7)},C.history=function(){return!!e.history&&!!history.pushState},C.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},C.rgba=function(){return n("background-color:rgba(150,255,150,.5)"),s(g.backgroundColor,"rgba")},C.hsla=function(){return n("background-color:hsla(120,40%,100%,.5)"),s(g.backgroundColor,"rgba")||s(g.backgroundColor,"hsla")},C.multiplebgs=function(){return n("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(g.background)},C.backgroundsize=function(){return u("backgroundSize")},C.borderimage=function(){return u("borderImage")},C.textshadow=function(){return""===t.createElement("div").style.textShadow},C.opacity=function(){return r("opacity:.55"),/^0.55$/.test(g.opacity)},C.cssanimations=function(){return u("animationName")},C.csscolumns=function(){return u("columnCount")},C.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",i="linear-gradient(left top,#9f9, white);";return n((e+"-webkit- ".split(" ").join(t+e)+E.join(i+e)).slice(0,-e.length)),s(g.backgroundImage,"gradient")},C.cssreflections=function(){return u("boxReflect")},C.csstransforms=function(){return!!u("transform")},C.csstransforms3d=function(){var e=!!u("perspective");return e&&"webkitPerspective"in p.style&&M("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t,i){e=9===t.offsetLeft&&3===t.offsetHeight}),e},C.csstransitions=function(){return u("transition")},C.fontface=function(){var e;return M('@font-face {font-family:"font";src:url("https://")}',function(i,n){var r=t.getElementById("smodernizr"),a=r.sheet||r.styleSheet,s=a?a.cssRules&&a.cssRules[0]?a.cssRules[0].cssText:a.cssText||"":"";e=/src/i.test(s)&&0===s.indexOf(n.split(" ")[0])}),e},C.generatedcontent=function(){var e;return M(["#",m,"{font:0/0 a}#",m,':after{content:"',y,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=t.offsetHeight>=3}),e},C.video=function(){var e=t.createElement("video"),i=!1;try{(i=!!e.canPlayType)&&(i=new Boolean(i),i.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),i.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),i.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(n){}return i},C.audio=function(){var e=t.createElement("audio"),i=!1;try{(i=!!e.canPlayType)&&(i=new Boolean(i),i.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),i.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),i.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),i.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(n){}return i},C.localstorage=function(){try{return localStorage.setItem(m,m),localStorage.removeItem(m),!0}catch(e){return!1}},C.applicationcache=function(){return!!e.applicationCache},C.svg=function(){return!!t.createElementNS&&!!t.createElementNS(P.svg,"svg").createSVGRect},C.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(w.call(t.createElementNS(P.svg,"clipPath")))};for(var B in C)O(C,B)&&(R=B.toLowerCase(),d[R]=C[B](),W.push((d[R]?"":"no-")+R));return d.input||h(),d.addTest=function(e,t){if("object"==typeof e)for(var n in e)O(e,n)&&d.addTest(n,e[n]);else{if(e=e.toLowerCase(),d[e]!==i)return d;t="function"==typeof t?t():t,"undefined"!=typeof f&&f&&(p.className+=" "+(t?"":"no-")+e),d[e]=t}return d},n(""),v=b=null,function(e,t){function i(e,t){var i=e.createElement("p"),n=e.getElementsByTagName("head")[0]||e.documentElement;return i.innerHTML="x<style>"+t+"</style>",n.insertBefore(i.lastChild,n.firstChild)}function n(){var e=g.elements;return"string"==typeof e?e.split(" "):e}function r(e){var t=m[e[f]];return t||(t={},p++,e[f]=p,m[p]=t),t}function a(e,i,n){if(i||(i=t),v)return i.createElement(e);n||(n=r(i));var a;return a=n.cache[e]?n.cache[e].cloneNode():l.test(e)?(n.cache[e]=n.createElem(e)).cloneNode():n.createElem(e),a.canHaveChildren&&!h.test(e)?n.frag.appendChild(a):a}function s(e,i){if(e||(e=t),v)return e.createDocumentFragment();i=i||r(e);for(var a=i.frag.cloneNode(),s=0,o=n(),c=o.length;c>s;s++)a.createElement(o[s]);return a}function o(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(i){return g.shivMethods?a(i,e,t):t.createElem(i)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/\w+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(g,t.frag)}function c(e){e||(e=t);var n=r(e);return g.shivCSS&&!d&&!n.hasCSS&&(n.hasCSS=!!i(e,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),v||o(e,n),e}var u=e.html5||{},h=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,l=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,d,f="_html5shiv",p=0,m={},v;!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",d="hidden"in e,v=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(i){d=!0,v=!0}}();var g={elements:u.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:u.shivCSS!==!1,supportsUnknownElements:v,shivMethods:u.shivMethods!==!1,type:"default",shivDocument:c,createElement:a,createDocumentFragment:s};e.html5=g,c(t)}(this,t),d._version=l,d._prefixes=E,d._domPrefixes=S,d._cssomPrefixes=k,d.mq=j,d.hasEvent=N,d.testProp=function(e){return o([e])},d.testAllProps=u,d.testStyles=M,d.prefixed=function(e,t,i){return t?u(e,t,i):u(e,"pfx")},p.className=p.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+W.join(" "):""),d}(this,this.document),function(e,t,i){function n(e){return"[object Function]"==p.call(e)}function r(e){return"string"==typeof e}function a(){}function s(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function o(){var e=m.shift();v=1,e?e.t?d(function(){("c"==e.t?A.injectCss:A.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),o()):v=0}function c(e,i,n,r,a,c,u){function h(t){if(!p&&s(l.readyState)&&(w.r=p=1,!v&&o(),l.onload=l.onreadystatechange=null,t)){"img"!=e&&d(function(){y.removeChild(l)},50);for(var n in S[i])S[i].hasOwnProperty(n)&&S[i][n].onload()}}var u=u||A.errorTimeout,l=t.createElement(e),p=0,g=0,w={t:n,s:i,e:a,a:c,x:u};1===S[i]&&(g=1,S[i]=[]),"object"==e?l.data=i:(l.src=i,l.type=e),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){h.call(this,g)},m.splice(r,0,w),"img"!=e&&(g||2===S[i]?(y.insertBefore(l,b?null:f),d(h,u)):S[i].push(l))}function u(e,t,i,n,a){return v=0,t=t||"j",r(e)?c("c"==t?E:w,e,t,this.i++,i,n,a):(m.splice(this.i++,0,e),1==m.length&&o()),this}function h(){var e=A;return e.loader={load:u,i:0},e}var l=t.documentElement,d=e.setTimeout,f=t.getElementsByTagName("script")[0],p={}.toString,m=[],v=0,g="MozAppearance"in l.style,b=g&&!!t.createRange().compareNode,y=b?l:f.parentNode,l=e.opera&&"[object Opera]"==p.call(e.opera),l=!!t.attachEvent&&!l,w=g?"object":l?"script":"img",E=l?"script":w,x=Array.isArray||function(e){return"[object Array]"==p.call(e)},k=[],S={},P={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}},C,A;A=function(e){function t(e){var e=e.split("!"),t=k.length,i=e.pop(),n=e.length,i={url:i,origUrl:i,prefixes:e},r,a,s;for(a=0;n>a;a++)s=e[a].split("="),(r=P[s.shift()])&&(i=r(i,s));for(a=0;t>a;a++)i=k[a](i);return i}function s(e,r,a,s,o){var c=t(e),u=c.autoCallback;c.url.split(".").pop().split("?").shift(),c.bypass||(r&&(r=n(r)?r:r[e]||r[s]||r[e.split("/").pop().split("?")[0]]),c.instead?c.instead(e,r,a,s,o):(S[c.url]?c.noexec=!0:S[c.url]=1,a.load(c.url,c.forceCSS||!c.forceJS&&"css"==c.url.split(".").pop().split("?").shift()?"c":i,c.noexec,c.attrs,c.timeout),(n(r)||n(u))&&a.load(function(){h(),r&&r(c.origUrl,o,s),u&&u(c.origUrl,o,s),S[c.url]=2})))}function o(e,t){function i(e,i){if(e){if(r(e))i||(u=function(){var e=[].slice.call(arguments);h.apply(this,e),l()}),s(e,u,t,0,o);else if(Object(e)===e)for(f in d=function(){var t=0,i;for(i in e)e.hasOwnProperty(i)&&t++;return t}(),e)e.hasOwnProperty(f)&&(!i&&!--d&&(n(u)?u=function(){var e=[].slice.call(arguments);h.apply(this,e),l()}:u[f]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),l()}}(h[f])),s(e[f],u,t,f,o))}else!i&&l()}var o=!!e.test,c=e.load||e.both,u=e.callback||a,h=u,l=e.complete||a,d,f;i(o?e.yep:e.nope,!!c),c&&i(c)}var c,u,l=this.yepnope.loader;if(r(e))s(e,0,l,0);else if(x(e))for(c=0;c<e.length;c++)u=e[c],r(u)?s(u,0,l,0):x(u)?A(u):Object(u)===u&&o(u,l);else Object(e)===e&&o(e,l)},A.addPrefix=function(e,t){P[e]=t},A.addFilter=function(e){k.push(e)},A.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",C=function(){t.removeEventListener("DOMContentLoaded",C,0),t.readyState="complete"},0)),e.yepnope=h(),e.yepnope.executeStack=o,e.yepnope.injectJs=function(e,i,n,r,c,u){var h=t.createElement("script"),l,p,r=r||A.errorTimeout;h.src=e;for(p in n)h.setAttribute(p,n[p]);i=u?o:i||a,h.onreadystatechange=h.onload=function(){!l&&s(h.readyState)&&(l=1,i(),h.onload=h.onreadystatechange=null)},d(function(){l||(l=1,i(1))},r),c?h.onload():f.parentNode.insertBefore(h,f)},e.yepnope.injectCss=function(e,i,n,r,s,c){var r=t.createElement("link"),u,i=c?o:i||a;r.href=e,r.rel="stylesheet",r.type="text/css";for(u in n)r.setAttribute(u,n[u]);s||(f.parentNode.insertBefore(r,f),d(i,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},Modernizr.addTest("mediaqueries",Modernizr.mq("only all")),Modernizr.addTest("regions",function(){var e=Modernizr.prefixed("flowFrom"),t=Modernizr.prefixed("flowInto");if(!e||!t)return!1;var i=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div"),a="modernizr_flow_for_regions_check";n.innerText="M",i.style.cssText="top: 150px; left: 150px; padding: 0px;",r.style.cssText="width: 50px; height: 50px; padding: 42px;",r.style[e]=a,i.appendChild(n),i.appendChild(r),document.documentElement.appendChild(i);var s,o,c=n.getBoundingClientRect();return n.style[t]=a,s=n.getBoundingClientRect(),o=s.left-c.left,document.documentElement.removeChild(i),n=r=i=void 0,42==o}),Modernizr.addTest("supports","CSSSupportsRule"in window);